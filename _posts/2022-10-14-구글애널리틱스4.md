---
title: "Google Analytics 4과 친해지기"
categories:
  - GA4
tags:
  - GA4 
  - Google Analytics
---
     
# Google Analytics 4에 대해서...
    
Google Analytics는 데이터 분석가라면 굉장히 친숙한 툴일 것입니다. 대다수의 분석가들이 GA를 유니버설 애널리틱스(UA) 버전으로 사용해왔을 거라 생각합니다. 익숙한 게 편한 건 당연하고, 변화는 누구에게나 어려운 법이지만... 안타깝게도 구글은 다음과 같은 공지를 내놓았습니다.   
   
```   
2023년 7월 1일부터 표준 유니버설 애널리틱스 속성은 더 이상 신규 조회를 처리하지 않습니다.   
아직 유니버설 애널리틱스를 사용하고 계시다면 Google 애널리틱스 4 사용을 위한 준비를 하시는 것이 좋습니다.
```   
   
이와 같은 공지가 나오자 저희 회사를 비롯한 많은 회사들이 GA4를 도입하고 사용하기 시작했습니다. 하지만 GA4가 등장한지 꽤 오랜 시간이 지난 지금도 많은 사람들은 UA와 GA4의 차이를 제대로 이해하지 못하고 GA4 사용에 애를 먹고 있습니다. 저 또한 처음 GA4를 접했을 때 '아니 UA랑 왜 이렇게 달라? 내가 구하고 싶은 거 구하려면 어떻게 해야 돼?'하며 많이 혼란스러웠습니다. 과거의 저처럼 GA4 사용에 미숙한 분들을 위해 GA4에 관한 짧은 글을 작성하고자 노트북을 열었습니다. :)     
     

---


## GA4 데이터 기준
기존의 UA와 GA4의 가장 큰 차이는 데이터를 집계하는 방식에 있습니다. UA는 세션(session)과 히트(Hit)를 기준으로 데이터를 집계합니다.    
**히트: 웹사이트와 웹사이트 방문자 간의 발생하는 가장 작은 상호작용*  
반면에 GA4는 유저(user)와 이벤트(event)를 기준으로 데이터를 집계합니다. UA가 세션 단위로 묶인 히트를 기반으로 데이터를 분석한다면, GA4는 사용자가 발생시킨 이벤트를 기반으로 데이터를 분석한다는 면에서 차이가 있습니다.   
UA에서는 각각의 히트에 페이지뷰/전자상거래/이벤트 등 이름이 붙어있었다면, GA4에서는 이러한 히트들이 모두 __이벤트로만__ 수집됩니다.    
     

---


## GA4 사용자 식별
GA4가 사용자를 측정하는 기준은 아래의 방법을 따릅니다.   
1. __User-ID__  
  * 로그인한 사용자의 자체 영구 ID.  
  * 애널리틱스로 사용자 ID를 전송하려면 애널리틱스 태그가 포함된 각 페이지의 config 명령어에 user_id 매개변수를 추가해야 합니다.   
2. __Google 신호 데이터__   
  * Google에 로그인한 사용자의 데이터   
3. __기기 ID__   
  * 디바이스 ID  
  * 웹사이트의 기기 ID는 클라이언트 ID에서 값을 가져오고, 앱의 기기 ID는 앱 인스턴스 ID를 가져옵니다.   
4. __모델링__    
  * 사용자가 쿠키와 같은 애널리틱스 식별자를 거부했거나 User-ID 등을 사용하기 어려운 케이스에 해당  
  * 동일한 속성에서 쿠키를 수락하는 비슷한 사용자의 데이터를 기반으로, 쿠키를 거부하는 사용자의 행동을 모델링   
    

---


## GA4에 이벤트가 쌓이는 방식   
GA4의 이벤트 종류에는 자동수집 이벤트, 향상된 측정 이벤트, 추천이벤트, 맞춤이벤트가 있는데, 그 중에서도 맞춤이벤트를 중심으로 설명하겠습니다.   
UA에서는 Google Tag Manager(GTM)을 통해 태그를 걸 때 이벤트 카테고리, 이벤트 액션, 이벤트 라벨이 있었지만 GA4에서는 이 3가지가 따로 존재하지 않습니다. 사용자가 임의의 파라미터를 설정해 맞춤 측정기준, 맞춤 측정항목을 직접 정의할 수 있게끔 설계되었습니다. 그래서 저희 회사 같은 경우엔 action1, action2, .. 등과 같이 회사차원에서 파라미터 값을 별도로 정해서 태그를 수집하도록 설정했습니다. 처음에는 익숙지 않은 방식이다 보니 불편하다 느꼈지만, 측정기준 값을 별도로 설정할 수 있으니 보고서를 작성할 때 더 편한 측면도 있더라고요. 여러 측정기준, 측정항목을 조합하여 원하는 데이터를 얻을 수 있다는 것도 GA4의 장점인 것 같습니다.   
**GA4에 기본적으로 주어지는 측정기준 및 측정항목에 대해서는 [링크](https://support.google.com/analytics/answer/9143382?hl=ko&ref_topic=11151952)를 참고하시면 도움이 될 것입니다.*   

   
---


## GA4에서 이벤트를 보기 위한 보고서 만들기
이벤트를 볼 수 있는 방법은 **Report > Engagement > Events** 를 이용하거나 **Explore** 에서 직접 보고서를 만드는 방법이 있습니다. 전자는 파라미터를 포함하는 데이터까지 확인하기에는 어려움이 있다보니 후자를 권장합니다.   
<img width="348" alt="보고서" src="https://user-images.githubusercontent.com/104043279/195815492-4ac7ad8f-44cb-4c8e-8155-e888bf8daed9.png">   
* Segments : 특정 사용자 집단을 보고자 하는 경우 설정합니다. 해당 값은 Tab Settings에서 Segment comparisons에 들어갑니다.    
* Dimensions : 측정기준을 설정합니다. 해당 값은 Tab Settings에서 Rows, Columns에 들어갑니다.   
* Metrics : 측정항목을 설정합니다. 해당 값은 Tab Settings에서 Value에 들어갑니다.   
   

---


## GA4 보고서 세그먼트   
보고서에서 사용할 수 있는 세그먼트 종류는 __사용자__, __세션__, __이벤트__가 있습니다.     
1. __사용자 세그먼트__    
  * 사이트 또는 앱에서 상호작용한 사용자 하위 집합   
  * 이벤트를 발생시킨 사용자의 기간 내 모든 데이터 포함   
  * 특별한 목적이 있지 않은 이상 사용자 세그먼트 사용을 권장합니다.   
2. __세션 세그먼트__   
  * 사이트 또는 앱에서 트리거된 이벤트의 하위 집합   
  * 이벤트가 발생된 세션의 모든 데이터 포함   
3. __이벤트 세그먼트__    
  * 사이트 또는 앱에서 발생한 세션의 하위 집합   
  * 해당 이벤트 데이터만 포함   
   
세그먼트의 종류를 정한 뒤 구체적인 발생 이벤트 종류나 시퀀스에 따라 세그먼트를 설정할 수 있습니다.   
<img width="1520" alt="세그먼트" src="https://user-images.githubusercontent.com/104043279/195815618-d0138856-84f1-430b-8b58-4725c0438e67.png">   
* 초록색은 포함하고자 하는 조건, 빨간색은 제외하고자 하는 조건입니다. 두 조건은 AND 로 묶입니다.   
* 초록색 내부에서 흰색 박스들은 AND 조건으로 묶입니다.   
* 흰색 박스 내의 Add new condition 끼리는 선택에 따라 AND, OR 조건으로 묶입니다.   
   

---


구글 애널리틱스 4에 대해서 기초적이고 전반적인 내용을 다뤄보았습니다. UA를 사용해왔던 사람이라면 당연히 GA4가 낯설고 어렵게 느껴질 수밖에 없습니다. 하지만 GA4가 익숙해진다면 그 때는 GA4가 가진 장점이 더 크게 느껴져 더욱 효율적인 분석을 할 수 있게 될 것입니다.   
     
#### 참고 문서
[GA4 / 기존 구글애널리틱스(UA)의 차이](https://brunch.co.kr/@seongminyoo/100)   
[[GA4] 보고ID](https://support.google.com/analytics/answer/10976610?hl=ko&utm_id=ad&visit_id=637945051855536597-1250912427&rd=1)   
[[GA4] 이벤트 정보](https://support.google.com/analytics/answer/9322688?hl=ko&ref_topic=9756175)   
[[GA4] 세그먼트 작성 도구](https://support.google.com/analytics/answer/9304353?hl=ko#types-of-segments-you-can-create&zippy=%2C%EC%9D%B4-%EB%8F%84%EC%9B%80%EB%A7%90%EC%97%90%EC%84%9C%EB%8A%94-%EB%8B%A4%EC%9D%8C-%EB%82%B4%EC%9A%A9%EC%9D%84-%EB%8B%A4%EB%A3%B9%EB%8B%88%EB%8B%A4)